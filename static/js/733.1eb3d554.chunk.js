"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[733],{733:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var r=t(907);var a=t(181);function o(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,a.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=t(885),i=t(791),l=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",t=crypto.getRandomValues(new Uint8Array(n));n--;){var r=63&t[n];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e},c=t(184);var s=function(n){var e=n.type,t=n.placeholder,r=void 0===t?"":t,a=n.name,o=n.value,u=n.onChange;return(0,c.jsxs)("label",{children:[a,(0,c.jsx)("input",{type:e,placeholder:r,name:a,value:o,onChange:u,required:!0})]})};var m=function(n){var e=n.onSubmit,t=n.onCancel,r=n.editedBank,a=(0,i.useState)(""),o=(0,u.Z)(a,2),m=o[0],f=o[1],d=(0,i.useState)(""),b=(0,u.Z)(d,2),h=b[0],v=b[1],p=(0,i.useState)(""),k=(0,u.Z)(p,2),x=k[0],y=k[1],j=(0,i.useState)(""),g=(0,u.Z)(j,2),C=g[0],S=g[1],w=(0,i.useState)(""),T=(0,u.Z)(w,2),B=T[0],L=T[1],N=(0,i.useState)((function(){return l()})),Z=(0,u.Z)(N,2),E=Z[0],M=Z[1];(0,i.useEffect)((function(){r&&(f(r.bankName),v(r.interestRate),y(r.maxLoan),S(r.minPayment),L(r.loanTerm))}),[r]);var A=function(){f(""),v(""),y(""),S(""),L(""),M(l())};return(0,c.jsxs)("form",{onSubmit:function(n){n.preventDefault(),M(l()),e({bankName:m,interestRate:h,maxLoan:x,minPayment:C,loanTerm:B,id:E},A)},children:[(0,c.jsx)(s,{type:"text",placeholder:"My bank",name:"Bank name",value:m,onChange:function(n){return f(n.currentTarget.value)}}),(0,c.jsx)(s,{type:"number",placeholder:"%",name:"Interest rate",value:h,onChange:function(n){return v(n.currentTarget.value)}}),(0,c.jsx)(s,{type:"number",placeholder:"$",name:"Maximum loan",value:x,onChange:function(n){return y(n.currentTarget.value)}}),(0,c.jsx)(s,{type:"number",placeholder:"$",name:"Minimum down payment",value:C,onChange:function(n){return S(n.currentTarget.value)}}),(0,c.jsx)(s,{type:"number",placeholder:"Months",name:"Loan term",value:B,onChange:function(n){return L(n.currentTarget.value)}}),r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{type:"button",onClick:function(){return t(A)},children:"Cancel"}),(0,c.jsx)("button",{type:"submit",children:"Edit"})]}):(0,c.jsx)("button",{type:"submit",children:"Add bank"})]})};var f=function(n){var e=n.id,t=n.bankName,r=n.interestRate,a=n.maxLoan,o=n.minPayment,u=n.loanTerm,i=n.onDeleteBank,l=n.onEditBank;return(0,c.jsxs)("li",{children:[(0,c.jsxs)("p",{children:[t," - Interest rate: ",r,"%; Maximum loan: ",a,"$; Minimum payment: ",o,"%; Loan term: ",u," months"]}),(0,c.jsx)("button",{type:"button",onClick:function(){return i(e)},children:"Delete"}),(0,c.jsx)("button",{type:"button",onClick:function(){return l(e)},children:"Edit"})]})},d=function(n){var e=n.items,t=n.onDeleteBank,r=n.onEditBank;return(0,c.jsx)("ul",{children:e.map((function(n){var e=n.id,a=n.bankName,o=n.interestRate,u=n.maxLoan,i=n.minPayment,l=n.loanTerm;return(0,c.jsx)(f,{id:e,bankName:a,interestRate:o,maxLoan:u,minPayment:i,loanTerm:l,onDeleteBank:t,onEditBank:r},e)}))})},b=function(n){var e=n.value,t=n.onFilter;return(0,c.jsxs)("label",{children:["Find banks by name",(0,c.jsx)("input",{type:"text",name:"filter",value:e,onChange:t})]})};var h=function(){var n=(0,i.useState)((function(){var n;return null!==(n=JSON.parse(window.localStorage.getItem("banks")))&&void 0!==n?n:[]})),e=(0,u.Z)(n,2),t=e[0],r=e[1],a=(0,i.useState)(""),l=(0,u.Z)(a,2),s=l[0],f=l[1],h=(0,i.useState)(""),v=(0,u.Z)(h,2),p=v[0],k=v[1];(0,i.useEffect)((function(){window.localStorage.setItem("banks",JSON.stringify(t))}),[t]);var x=function(){var n=s.toLowerCase();return t.filter((function(e){return e.bankName.toLowerCase().includes(n)}))}();return(0,c.jsxs)("div",{className:"App",children:[(0,c.jsx)("h1",{children:"Mortgage calculator"}),(0,c.jsx)(m,{onSubmit:function(n,e){t.find((function(e){return e.bankName.toLowerCase()===n.bankName.toLowerCase()}))&&!p?alert("This bank name already in banks"):function(n,e){p&&r((function(n){return n.filter((function(n){return n.id!==p.id}))})),r((function(e){return[].concat(o(e),[n])})),e(),k("")}(n,e)},onCancel:function(n){k(""),n()},editedBank:p}),(0,c.jsx)("h2",{children:"Banks"}),(0,c.jsx)(b,{value:s,onFilter:function(n){return f(n.currentTarget.value)}}),(0,c.jsx)(d,{items:x,onDeleteBank:function(n){r((function(e){return e.filter((function(e){return e.id!==n}))}))},onEditBank:function(n){k(t.find((function(e){return e.id===n})))}})]})}}}]);
//# sourceMappingURL=733.1eb3d554.chunk.js.map